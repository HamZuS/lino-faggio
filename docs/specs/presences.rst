.. _voga.specs.presences:

=========
Presences
=========

.. to test only this doc:

    $ python setup.py test -s tests.DocsTests.test_presences

    >>> from lino import startup
    >>> startup('lino_voga.projects.roger.settings.doctests')
    >>> from lino.api.doctest import *
    
    
This document analyzes the demo courses generated by 
:mod:`lino_voga.lib.voga.fixtures.buche`.


Filtering courses by their start/end date
=========================================

The parameter panel of most courses tables has two fields
:guilabel:`Period from` and :guilabel:`until`. Here are some usage
examples.

>>> kwargs = dict(column_names="id line weekdays_text start_date end_date")

All courses that were active somewhere before 20140807:

>>> pv = dict(end_date=i2d(20140807))
>>> rt.show(courses.Courses, param_values=pv, **kwargs)
==== =============== ================= ============ ============
 ID   Course series   When              Start date   End Date
---- --------------- ----------------- ------------ ------------
 25   Yoga            Every Friday      21/07/2014
 24   Yoga            Every Monday      21/07/2014
 2    Europe                            14/07/2014   20/07/2014
 9    BT              Every Wednesday   11/06/2014
 7    WWW             Every Wednesday   01/06/2014
 6    WWW             Every Monday      01/06/2014
 8    WWW             Every Friday      01/06/2014
 21   GLQ             Every Friday      12/05/2014
 23   MED             Every Friday      12/05/2014
 20   GLQ             Every Monday      12/05/2014
 22   MED             Every Monday      12/05/2014
 11   FG              Every Monday      12/05/2014
 10   FG              Every Monday      12/05/2014
 4    comp            Every Wednesday   22/04/2014
 3    comp            Every Monday      22/04/2014
 5    comp            Every Friday      22/04/2014
 19   SV              Every Friday      03/03/2014
 18   SV              Every Friday      03/03/2014
 13   Rücken          Every Monday      11/02/2014
 15   Rücken          Every Tuesday     11/02/2014
 17   Rücken          Every Thursday    11/02/2014
 12   Rücken          Every Monday      11/02/2014
 14   Rücken          Every Tuesday     11/02/2014
 16   Rücken          Every Thursday    11/02/2014
==== =============== ================= ============ ============
<BLANKLINE>

All courses that started after 20140807

>>> pv = dict(start_date=i2d(20140807))
>>> rt.show(courses.Courses, param_values=pv, **kwargs)
==== =============== ====== ============ ============
 ID   Course series   When   Start date   End Date
---- --------------- ------ ------------ ------------
 1    Europe                 14/08/2014   20/08/2014
==== =============== ====== ============ ============
<BLANKLINE>

Courses which were active on at least one day of the period 20140303
and 20140422:

>>> pv = dict(start_date=i2d(20140303), end_date=i2d(20140422))
>>> rt.show(courses.Courses, param_values=pv, **kwargs)
==== =============== ================= ============ ==========
 ID   Course series   When              Start date   End Date
---- --------------- ----------------- ------------ ----------
 4    comp            Every Wednesday   22/04/2014
 3    comp            Every Monday      22/04/2014
 5    comp            Every Friday      22/04/2014
 19   SV              Every Friday      03/03/2014
 18   SV              Every Friday      03/03/2014
==== =============== ================= ============ ==========
<BLANKLINE>

